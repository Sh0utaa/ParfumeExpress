import React, { useState, useEffect } from 'react';
import '../static/Navbar.css';
import { useAuth } from '../utils/AuthContext'

function Navbar() {
  const [isSidebarVisible, setIsSidebarVisible] = useState(false);
  const [isScrolled, setIsScrolled] = useState(false);

  const { user } = useAuth();

  const showSidebar = () => {
    setIsSidebarVisible(true);
  };

  const closeSidebar = () => {
    setIsSidebarVisible(false);
  };

  useEffect(() => {
    const handleScroll = () => {
      if (window.scrollY > 0) {
        setIsScrolled(true);
      } else {
        setIsScrolled(false);
      }
    };

    window.addEventListener('scroll', handleScroll);

    return () => {
      window.removeEventListener('scroll', handleScroll);
    };
  }, []);

  return (
    <>
    <div className="container">  
    
    <nav>
    {/* Sidebar */}
    <ul className={`nav-sidebar ${isSidebarVisible ? 'visible' : ''}`} id='nav-sidebar'>
      <li onClick={closeSidebar} className='sidebar-close-button'>
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000">
          <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>
        </svg>
      </li>

      <li><a href="/">
        HOME
        </a></li>
      <li><a href="/about">
        ABOUT
          </a></li>
      <li><a href="/">
        FILTER
        </a></li>
      <li><a href="/">
        SOCIALS
        </a></li>
        <li><a href="/cart">
        CART
        </a></li>
        <li>
        <a href={user ? "/account" : "/login"}>
        {user ? "ACCOUNT" : "SIGN IN"}
       </a>
        </li>
    </ul>

    <ul className={`${isScrolled ? 'scrolled' : ''}`}>
    <li className='showOnMobile'><a href="/">
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg>
    </a></li>
    <li className='hideOnMobile'><a href="/">
        HOME
        </a></li>
      <li className='hideOnMobile'><a href="/about">
        ABOUT
        </a></li>
      <li className='hideOnMobile'><a href="/">
          FILTER
        </a></li>

    {/* PARFUMEEXPRESS LOGO */}
      <li><a href="/">
      <svg className={`${isScrolled ? 'scrolled' : ''}`} version="1.0" xmlns="http://www.w3.org/2000/svg"
      width="150px" height="150px" viewBox="0 0 300.000000 300.000000"
      preserveAspectRatio="xMidYMid meet">
      <metadata>
      Created by potrace 1.10, written by Peter Selinger 2001-2011
      </metadata>
      <g transform="translate(0.000000,300.000000) scale(0.100000,-0.100000)"
      fill="#000000" stroke="none">
      <path d="M1025 2164 c-151 -48 -262 -186 -281 -347 -7 -62 17 -175 47 -224 26
      -41 35 -37 20 9 -6 18 -18 55 -26 81 -39 123 1 272 100 371 38 38 134 88 179
      94 64 7 161 3 191 -8 19 -7 32 -7 38 -1 32 32 -184 52 -268 25z"/>
      <path d="M1337 2173 c-3 -5 -17 -51 -31 -103 -15 -52 -52 -173 -83 -268 -49
      -154 -59 -175 -82 -184 -14 -6 -41 -16 -58 -24 -32 -13 -33 -13 -33 10 0 39
      -37 76 -75 76 -39 0 -96 -44 -121 -93 -44 -84 -64 -226 -42 -292 28 -84 116
      -91 193 -15 45 45 118 161 156 252 22 52 28 58 59 64 19 3 47 8 61 10 26 5 27
      4 34 -58 18 -158 61 -308 101 -352 36 -38 89 -59 129 -52 38 7 85 50 85 77 0
      27 -12 24 -42 -11 -50 -57 -105 -34 -147 60 -21 47 -55 205 -65 301 l-6 55 34
      12 c47 17 102 80 110 128 7 33 4 41 -14 56 -30 25 -46 10 -53 -48 -4 -43 -45
      -104 -69 -104 -11 0 -9 179 5 348 8 92 9 146 3 152 -12 12 -43 13 -49 3z m-21
      -234 c-4 -22 -7 -99 -7 -170 0 -115 -2 -129 -17 -129 -9 0 -34 -3 -54 -6 l-38
      -7 30 89 c17 48 39 122 51 163 26 98 27 101 35 101 4 0 4 -18 0 -41z m-314
      -345 c-1 -23 -9 -60 -17 -83 -19 -55 -2 -63 37 -17 26 32 103 86 122 86 12 0
      -95 -200 -134 -249 -21 -26 -52 -54 -70 -61 -31 -13 -34 -12 -53 11 -30 37
      -21 182 16 264 34 73 55 97 81 93 18 -3 21 -9 18 -44z"/>
      <path d="M940 1441 c25 -16 58 -32 74 -35 26 -6 28 -5 17 8 -8 9 -21 16 -30
      16 -9 0 -27 9 -41 20 -14 11 -34 20 -45 20 -14 0 -7 -9 25 -29z"/>
      <path d="M1431 2031 c52 -95 63 -118 81 -166 10 -27 18 -69 18 -93 0 -52 -35
      -141 -84 -211 -38 -56 -47 -83 -20 -60 31 26 73 97 94 160 44 128 9 298 -77
      380 l-35 34 23 -44z"/>
      <path d="M1814 1886 c-30 -21 -72 -123 -90 -213 -21 -111 -28 -303 -15 -397
      16 -115 47 -142 100 -88 36 36 47 98 26 149 -13 30 -13 39 -3 42 7 2 25 16 40
      31 29 29 38 29 38 -2 0 -18 33 -58 48 -58 18 1 34 20 46 55 l13 38 8 -59 c8
      -67 18 -84 50 -84 20 0 32 14 51 65 6 18 8 16 13 -10 3 -16 12 -30 19 -29 30
      2 33 5 28 22 -7 22 36 198 58 239 14 26 15 23 9 -63 -5 -85 -4 -93 16 -113 30
      -30 44 -23 54 25 22 105 47 207 52 212 11 12 11 -9 -2 -148 -19 -201 -7 -260
      54 -260 l24 0 -20 26 c-25 32 -28 113 -9 292 11 108 10 116 -7 128 -10 8 -24
      14 -31 14 -22 0 -45 -65 -81 -225 -13 -59 -15 5 -3 87 12 85 6 108 -30 108
      -18 0 -34 -30 -70 -130 l-20 -55 6 49 c3 27 8 55 11 62 3 10 -3 14 -20 14 -28
      0 -31 -9 -42 -115 -6 -53 -29 -144 -43 -169 -15 -26 -23 35 -20 154 3 128 2
      135 -16 135 -16 0 -22 -14 -37 -90 -38 -197 -67 -195 -74 3 -2 55 -7 87 -14
      86 -6 -1 -15 -2 -21 -2 -6 -1 -10 -32 -10 -70 0 -66 -1 -69 -39 -106 -22 -21
      -54 -41 -75 -46 l-36 -8 0 41 c0 26 8 51 23 71 68 91 117 220 118 309 1 52 -2
      64 -21 79 -27 22 -30 22 -56 4z m56 -76 c0 -74 -55 -224 -105 -285 -15 -19
      -16 -16 -10 45 11 116 48 239 88 288 15 18 27 -3 27 -48z m-60 -459 c22 -43 5
      -148 -26 -158 -14 -5 -20 19 -30 104 -6 54 -4 62 12 66 32 8 33 8 44 -12z"/>
      <path d="M1539 1624 c-21 -26 -20 -291 1 -304 28 -18 35 -4 37 75 2 79 15 133
      41 173 18 27 42 29 42 3 0 -28 -21 -78 -27 -63 -6 16 -23 15 -23 -2 0 -8 7
      -16 15 -19 42 -17 85 91 50 127 -15 15 -20 15 -39 3 -11 -7 -31 -33 -44 -58
      l-23 -44 3 59 c3 63 -8 80 -33 50z"/>
      <path d="M614 1615 c-12 -8 -27 -28 -34 -45 -17 -40 -25 -38 -25 7 0 32 -4 39
      -22 41 -23 3 -23 2 -25 -115 -3 -229 4 -408 16 -415 36 -24 38 -13 31 175 -7
      170 -6 186 14 238 22 57 62 106 79 95 5 -3 13 -22 16 -41 6 -31 3 -41 -24 -72
      -52 -59 -65 -114 -30 -133 40 -22 86 35 98 122 3 24 11 42 21 45 9 2 25 9 36
      14 15 7 11 8 -17 5 -35 -4 -38 -3 -38 20 0 26 -40 74 -62 74 -8 0 -23 -7 -34
      -15z m31 -202 c-12 -30 -21 -41 -27 -35 -7 7 -3 26 13 58 27 58 38 41 14 -23z"/>
      <path d="M1250 1421 c-8 -6 -17 -8 -21 -5 -14 8 -109 -18 -103 -28 10 -16 153
      10 179 33 12 12 -36 11 -55 0z"/>
      <path d="M985 1030 c9 -15 10 -124 1 -139 -6 -9 8 -11 56 -9 59 3 63 5 66 28
      l3 25 -16 -22 c-10 -15 -27 -23 -46 -23 -26 0 -29 3 -29 31 0 31 1 31 35 26
      30 -5 35 -3 35 14 0 20 -15 26 -25 9 -3 -5 -15 -10 -26 -10 -15 0 -19 7 -19
      35 0 28 4 35 19 35 30 0 51 -11 51 -26 0 -8 5 -14 11 -14 6 0 8 7 5 16 -3 9
      -6 20 -6 25 0 5 -27 9 -61 9 -37 0 -58 -4 -54 -10z"/>
      <path d="M1170 999 l33 -40 -24 -27 c-13 -15 -30 -33 -38 -39 -13 -11 -11 -13
      12 -13 17 0 25 5 22 13 -3 6 3 23 13 35 l18 24 18 -26 c9 -15 14 -31 11 -36
      -4 -6 7 -10 25 -10 l32 0 -31 39 c-17 21 -31 43 -31 48 0 5 14 24 31 41 l31
      32 -25 0 c-17 0 -25 -4 -21 -13 2 -7 -2 -21 -10 -32 -15 -20 -15 -20 -30 0 -9
      11 -13 26 -11 33 3 8 -6 12 -26 12 l-31 0 32 -41z"/>
      <path d="M1325 960 c0 -76 1 -80 22 -80 19 0 21 3 14 23 -6 19 -7 46 -2 115 2
      19 29 14 41 -7 13 -26 13 -27 -12 -51 -23 -21 -10 -27 23 -10 22 12 26 59 7
      78 -7 7 -30 12 -52 12 l-41 0 0 -80z"/>
      <path d="M1465 960 c0 -73 2 -80 20 -80 19 0 20 6 17 76 -4 74 -3 76 20 72 32
      -4 36 -41 6 -62 -12 -9 -17 -16 -11 -16 6 0 17 -16 23 -35 8 -24 18 -35 31
      -35 18 0 18 2 -5 38 -23 37 -23 39 -5 50 43 27 9 72 -54 72 l-42 0 0 -80z"/>
      <path d="M1617 1028 c11 -19 10 -121 -1 -136 -7 -10 4 -12 55 -10 60 3 64 5
      67 28 l3 25 -16 -22 c-10 -15 -27 -23 -46 -23 -26 0 -29 3 -29 31 0 31 1 31
      35 26 30 -5 35 -3 35 14 0 20 -15 26 -25 9 -3 -5 -15 -10 -26 -10 -15 0 -19 7
      -19 35 0 29 4 35 22 35 12 0 32 -9 44 -21 l21 -20 -4 25 c-5 24 -9 26 -65 26
      -45 0 -57 -3 -51 -12z"/>
      <path d="M1781 1026 c-20 -24 -9 -49 32 -75 43 -28 50 -61 13 -61 -14 0 -31 9
      -39 20 -12 17 -16 18 -20 6 -13 -32 65 -53 98 -26 26 22 17 47 -27 77 -47 31
      -55 56 -21 61 13 2 27 -6 38 -20 l16 -23 -3 25 c-2 21 -9 26 -39 28 -23 2 -40
      -2 -48 -12z"/>
      <path d="M1921 1026 c-19 -23 -9 -48 29 -74 19 -13 35 -31 35 -40 0 -26 -40
      -27 -58 -2 -11 16 -16 18 -20 7 -8 -22 13 -37 54 -37 71 0 76 48 9 92 -40 27
      -46 52 -13 56 13 2 27 -6 38 -20 l16 -23 -3 25 c-2 21 -9 26 -39 28 -23 2 -40
      -2 -48 -12z"/>
      </g>
      </svg>
        
        </a></li>

      <li className='hideOnMobile'><a href="/">
        SOCIALS
      </a></li>
      <li className='hideOnMobile'><a href="/cart">
        CART
      </a></li>
      <li className='hideOnMobile'>
      <a href={user ? "/account" : "/login"}>
        {user ? "ACCOUNT" : "SIGN IN"}
      </a>
    </li>



                {/* BURGER MENU */}
    <li className='hamburger-menu' onClick={showSidebar}>
        <svg  xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000">
          <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/>
        </svg>
      </li>
      
      
    </ul>
    </nav>

    </div>
      {/* Bottom Nav for Mobile screen */}
      <div className="bottom-nav showOnMobile">
      <ul>
        <li>
          <a href="/">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/></svg>
          </a>
        </li>

        <li>
          <a href="/cart">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M280-80q-33 0-56.5-23.5T200-160q0-33 23.5-56.5T280-240q33 0 56.5 23.5T360-160q0 33-23.5 56.5T280-80Zm400 0q-33 0-56.5-23.5T600-160q0-33 23.5-56.5T680-240q33 0 56.5 23.5T760-160q0 33-23.5 56.5T680-80ZM246-720l96 200h280l110-200H246Zm-38-80h590q23 0 35 20.5t1 41.5L692-482q-11 20-29.5 31T622-440H324l-44 80h480v80H280q-45 0-68-39.5t-2-78.5l54-98-144-304H40v-80h130l38 80Zm134 280h280-280Z"/></svg>
          </a>
        </li>
        <li>
          <a href={user ? "/account" : "/login"}>
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M234-276q51-39 114-61.5T480-360q69 0 132 22.5T726-276q35-41 54.5-93T800-480q0-133-93.5-226.5T480-800q-133 0-226.5 93.5T160-480q0 59 19.5 111t54.5 93Zm246-164q-59 0-99.5-40.5T340-580q0-59 40.5-99.5T480-720q59 0 99.5 40.5T620-580q0 59-40.5 99.5T480-440Zm0 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q53 0 100-15.5t86-44.5q-39-29-86-44.5T480-280q-53 0-100 15.5T294-220q39 29 86 44.5T480-160Zm0-360q26 0 43-17t17-43q0-26-17-43t-43-17q-26 0-43 17t-17 43q0 26 17 43t43 17Zm0-60Zm0 360Z"/></svg>
          </a>
        </li>
      </ul>
    </div>
  </>

  );
}

export default Navbar;
